const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ErrorPage-D-xa3GbX.js","assets/index-CXUv5O_L.js"])))=>i.map(i=>d[i]);
import{J as f,j as s,i as v,a2 as _,L,B as t,a3 as w,T as r,Z as d,c as D,e as b,a4 as S}from"./index-CXUv5O_L.js";import{u as C}from"./api-QTOIoVYM.js";import{u as P}from"./api-CbJlNuUc.js";import{C as l,a as c}from"./CardContent-BBcGP-Rq.js";import{C as E}from"./CardMedia-Bm_8uLiK.js";import{L as I}from"./ListItem-CsgWnOk1.js";import"./isMuiElement-BEkWJvS-.js";const H=f(s.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"History"),O=v.lazy(()=>_(()=>import("./ErrorPage-D-xa3GbX.js"),__vite__mapDeps([0,1]))),B=()=>{const{data:i,isLoading:x,error:h}=C(),{data:a,isLoading:j,error:m}=P();if(x||j)return s.jsx(L,{});if(h||m)return s.jsx(O,{});if(i&&a){const{user:n}=i;if(n){const{email:p,user_metadata:{name:o,avatar_url:u},last_sign_in_at:g,created_at:y}=n;return s.jsxs(t,{sx:{width:"100%",p:2,display:"flex",flexDirection:"column",gap:3},children:[s.jsxs(l,{sx:{display:"flex",alignItems:"center",flexDirection:{xs:"column",md:"row"}},children:[s.jsx(E,{sx:{padding:3},children:s.jsx(w,{src:u,alt:o,sx:{width:100,height:100,mx:"auto"}})}),s.jsxs(c,{sx:{pt:0},children:[s.jsx(r,{variant:"h5",sx:{mt:2},children:o}),s.jsxs(r,{variant:"body2",children:[s.jsx("strong",{children:"Email:"})," ",p]}),s.jsxs(r,{variant:"body2",children:[s.jsx("strong",{children:"Joined:"})," ",new Date(y).toLocaleDateString()]}),s.jsxs(r,{variant:"body2",children:[s.jsx("strong",{children:"Last Signed In:"})," ",new Date(g??0).toLocaleString()]})]})]}),s.jsx(l,{sx:{width:"100%"},children:s.jsxs(c,{children:[s.jsxs(t,{sx:{display:"flex",alignItems:"center",columnGap:1,marginBottom:2},children:[s.jsx(H,{})," ",s.jsx(r,{variant:"h6",children:"History: "})]}),s.jsx(d,{sx:{mb:2}}),a.length===0&&s.jsx(r,{variant:"h6",children:"No Orders..."}),a.map(e=>s.jsxs(t,{children:[s.jsxs(I,{disablePadding:!0,sx:{display:"flex",justifyContent:"space-between",rowGap:4,flexDirection:{xs:"column",sm:"row"}},children:[s.jsxs(t,{children:[s.jsx(r,{variant:"h6",children:`${e.first_name} ${e.last_name}`}),s.jsxs(r,{variant:"body2",color:"textSecondary",children:[s.jsx("strong",{children:"Order placed"})," on"," ",new Date(e.created_at).toLocaleDateString()]}),s.jsxs(r,{variant:"body2",color:"textSecondary",children:[s.jsx("strong",{children:"Status"}),": ",e.status]}),s.jsxs(r,{variant:"body2",color:"textSecondary",children:[s.jsx("strong",{children:"Total Price"}),": $",e.total_price.toFixed(2)]})]}),s.jsx(D,{component:b,to:`/order/details/${e.id}`,variant:"outlined",children:"View Details"})]}),s.jsx(d,{sx:{my:2}})]},e.id))]})})]})}}return null},M=()=>s.jsx(S,{children:s.jsx(B,{})});export{M as default};
